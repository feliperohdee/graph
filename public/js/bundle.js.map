{"version":3,"sources":["webpack:///./src/client/index.jsx","webpack:///./src/client/components/index.js","webpack:///./src/client/components/Graphi.jsx"],"names":["render","document","getElementById","Graphi","props","parameters","state","uri","localStorage","getItem","token","showEditor","newQuery","query","newVariables","variables","newOperationName","operationName","graphQLParams","url","indexOf","headers","method","body","JSON","stringify","then","response","text","parse","responseBody","error","e","target","value","setState","setItem","isEnter","keyCode","removeItem","exit","fetcher","onEditQuery","onEditVariables","onEditOperationName","setUri","onKeyDown","setToken"],"mappings":"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","file":"bundle.js","sourcesContent":["import React from 'react';\nimport ReactDOM from 'react-dom';\nimport {\n    Graphi\n} from './components';\n\nReactDOM.render(<Graphi/>, document.getElementById('app'));\n\n\n\n// WEBPACK FOOTER //\n// ./src/client/index.jsx","import Graphi from './Graphi';\n\nexport {\n\tGraphi\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/client/components/index.js","import GraphiQL from 'graphiql';\nimport fetch from 'isomorphic-fetch';\nimport React, {\n    Component\n} from 'react';\n\nexport default class extends Component {\n    parameters = {};\n    state = {\n        uri: localStorage.getItem('graphiql:uri') || '',\n        token: localStorage.getItem('graphiql:token'),\n        showEditor: localStorage.getItem('graphiql:showEditor') === 'true'\n    }\n\n    constructor(props) {\n        super(props);\n    }\n\n    onEditQuery(newQuery) {\n        this.parameters.query = newQuery;\n    }\n\n    onEditVariables(newVariables) {\n        this.parameters.variables = newVariables;\n    }\n\n    onEditOperationName(newOperationName) {\n        this.parameters.operationName = newOperationName;\n    }\n\n    // Defines a GraphQL fetcher using the fetch API.\n    fetcher(graphQLParams) {\n        const {\n            uri,\n            token\n        } = this.state;\n\n        let url = uri.indexOf('http') >= 0 ? uri : `http://${uri}`;\n        let headers = {\n            'Accept': 'application/json',\n            'Content-Type': 'application/json',\n        };\n\n        if (token) {\n            url += `?token=${token}`;\n\n            headers['Authorization'] = token;\n        }\n\n        return fetch(url, {\n                method: 'post',\n                headers: {\n                    'Accept': 'application/json',\n                    'Content-Type': 'application/json',\n                },\n                body: JSON.stringify(graphQLParams)\n            })\n            .then(response => response.text())\n            .then(responseBody => {\n                try {\n                    return JSON.parse(responseBody);\n                } catch (error) {\n                    return responseBody;\n                }\n            });\n    }\n\n    setUri(e) {\n        const uri = e.target.value;\n\n        this.setState({\n            uri\n        }, () => {\n            localStorage.setItem('graphiql:uri', uri);\n        });\n    }\n\n    setToken(e) {\n        const token = e.target.value;\n\n        this.setState({\n            token\n        }, () => {\n            localStorage.setItem('graphiql:token', token);\n        });\n    }\n\n    onKeyDown(e){\n        const isEnter = e.keyCode === 13;\n        const {\n            uri\n        } = this.state;\n\n        this.setState({\n            showEditor: uri && isEnter\n        }, () => {\n            localStorage.setItem('graphiql:showEditor', uri && isEnter);\n        });\n    }\n\n    exit() {\n        this.setState({\n            token: null,\n            showEditor: false\n        }, () => {\n            localStorage.removeItem('graphiql:token');\n            localStorage.removeItem('graphiql:showEditor');\n            localStorage.removeItem('graphiql:variableEditorHeight');\n            localStorage.removeItem('graphiql:editorFlex');\n            localStorage.removeItem('graphiql:docExplorerWidth');\n        });\n    }\n\n    render() {\n        const {\n            showEditor,\n            uri\n        } = this.state;\n\n        return showEditor ? (\n            <section>\n                    <button className=\"exit-button\" onClick={::this.exit}>Exit</button>\n                    <GraphiQL \n                        fetcher={::this.fetcher}\n                        query={this.parameters.query}\n                        variables={this.parameters.variables}\n                        operationName={this.parameters.operationName}\n                        onEditQuery={::this.onEditQuery}\n                        onEditVariables={::this.onEditVariables}\n                        onEditOperationName={::this.onEditOperationName}/>\n                </section>\n        ) : (\n            <section>\n                    <section className=\"input\">\n                        <input type=\"text\" placeholder=\"GraphQL Server URI (like: localhost:3000/graphql)\" value={uri} onChange={::this.setUri} onKeyDown={::this.onKeyDown}/>\n                        <input type=\"text\" placeholder=\"Token\" onChange={::this.setToken} onKeyDown={::this.onKeyDown}/>\n                    </section>\n                </section>\n        );\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/client/components/Graphi.jsx"],"sourceRoot":""}